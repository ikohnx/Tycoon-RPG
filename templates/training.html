{% extends "base.html" %}

{% block title %}Training: {{ scenario.scenario_title }} - Business Tycoon RPG{% endblock %}

{% block body_class %}world-{{ stats.world|lower if stats else 'modern' }}{% endblock %}

{% block content %}
<div class="training-container fade-in">
    <div class="training-header">
        <a href="{{ url_for('scenarios', discipline=scenario.discipline) }}" class="btn btn-sm btn-outline-light">
            <i class="bi bi-arrow-left"></i> Back
        </a>
        <div class="training-badges">
            <span class="badge bg-info"><i class="bi bi-book-fill"></i> Training</span>
            <span class="discipline-badge">{{ scenario.discipline }}</span>
            <span class="level-badge">LV {{ scenario.required_level }}</span>
        </div>
    </div>
    
    <div class="training-card">
        <div class="training-icon-header">
            <div class="training-icon-circle">
                <i class="bi bi-lightbulb-fill"></i>
            </div>
            <h2 class="training-title">{{ scenario.scenario_title }}</h2>
        </div>
        
        <div class="training-section">
            <h4 class="section-title"><i class="bi bi-mortarboard-fill text-warning"></i> What You'll Learn</h4>
            <div class="training-content">
                {{ training.concept|safe }}
            </div>
        </div>
        
        {% if training.formula %}
        <div class="training-section">
            <h4 class="section-title"><i class="bi bi-calculator text-info"></i> The Formula</h4>
            <div class="formula-box">
                {{ training.formula|safe }}
            </div>
        </div>
        {% endif %}
        
        {% if training.example %}
        <div class="training-section">
            <h4 class="section-title"><i class="bi bi-pencil-square text-success"></i> Example</h4>
            <div class="example-box">
                {{ training.example|safe }}
            </div>
        </div>
        {% endif %}
        
        {% if training.tips %}
        <div class="training-section">
            <h4 class="section-title"><i class="bi bi-stars text-warning"></i> Pro Tips</h4>
            <ul class="tips-list">
                {% for tip in training.tips %}
                <li>{{ tip }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        
        <div class="training-actions mt-4">
            {% if scenario.challenge_type and scenario.challenge_type != 'choice' %}
            <a href="{{ url_for('play_challenge', scenario_id=scenario.scenario_id) }}" class="btn btn-game btn-game-gold btn-lg w-100">
                <i class="bi bi-play-fill"></i> Start Challenge
            </a>
            {% else %}
            <a href="{{ url_for('play_scenario', scenario_id=scenario.scenario_id) }}" class="btn btn-game btn-game-gold btn-lg w-100">
                <i class="bi bi-play-fill"></i> Start Quest
            </a>
            {% endif %}
        </div>
    </div>
</div>

<style>
.training-container {
    max-width: 700px;
    margin: 0 auto;
    padding: 1rem;
}

.training-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.training-badges {
    display: flex;
    gap: 0.5rem;
}

.training-card {
    background: linear-gradient(145deg, rgba(30, 30, 50, 0.95), rgba(20, 20, 40, 0.98));
    border: 2px solid rgba(100, 149, 237, 0.4);
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.training-icon-header {
    text-align: center;
    margin-bottom: 2rem;
}

.training-icon-circle {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #ffd700, #ff8c00);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    font-size: 2.5rem;
    color: #1a1a2e;
    box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
}

.training-title {
    font-family: 'Cinzel', serif;
    background: linear-gradient(135deg, #ffd700, #ffec8b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.5rem;
    margin: 0;
}

.training-section {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    border-left: 4px solid rgba(100, 149, 237, 0.6);
}

.section-title {
    font-family: 'Staatliches', sans-serif;
    font-size: 1.1rem;
    color: #e0e0e0;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.training-content {
    color: #c0c0c0;
    line-height: 1.7;
    font-size: 1rem;
}

.formula-box {
    background: rgba(100, 149, 237, 0.15);
    border: 1px solid rgba(100, 149, 237, 0.3);
    border-radius: 8px;
    padding: 1rem;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    color: #87ceeb;
    text-align: center;
}

.example-box {
    background: rgba(46, 204, 113, 0.1);
    border: 1px solid rgba(46, 204, 113, 0.3);
    border-radius: 8px;
    padding: 1rem;
    color: #98d8aa;
    line-height: 1.6;
}

.tips-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.tips-list li {
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
    color: #c0c0c0;
}

.tips-list li::before {
    content: "â˜…";
    position: absolute;
    left: 0;
    color: #ffd700;
}

.btn-game-gold {
    background: linear-gradient(135deg, #ffd700, #ff8c00);
    border: none;
    color: #1a1a2e;
    font-weight: bold;
    padding: 1rem 2rem;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    transition: all 0.3s ease;
}

.btn-game-gold:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba(255, 215, 0, 0.6);
    color: #1a1a2e;
}

@media (max-width: 576px) {
    .training-card {
        padding: 1.25rem;
    }
    
    .training-icon-circle {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }
    
    .training-title {
        font-size: 1.25rem;
    }
}
</style>
{% endblock %}
